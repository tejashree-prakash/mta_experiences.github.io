<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Borough Dashboard</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="proposal.html">Report</a>
    </li>
    <li>
      <a href="data_source.html">Data source</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data_exploration.html">Data Exploration</a>
</li>
<li>
  <a href="borough_analysis.html">Borough Analysis</a>
</li>
<li>
  <a href="subway_line_analysis.html">Subway Line Analysis</a>
</li>
<li>
  <a href="ranking_regression_analysis.html">Regression analysis</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Borough Dashboard</h1>

</div>


<p>The Borough Analysis was conducted to examine how perceptions of the
MTA and operational metrics vary across the five boroughs of New York
City as well as regions outside of NYC. The goal of this borough
analysis is to highlight meaningful differences in rider sentiment and
system performance that may help us understand how influential borough
is in how MTA and its different subway lines are perceived. <br><br>
Explore how subway use patterns, average ride lengths, and the most
commonly used lines differ across boroughs, along with borough-level
views on affordability, satisfaction, and potential fare increases.
Together, these comparisons help illustrate how rider attitudes and
travel behaviors vary across the city.</p>
<p>First, we want to understand the survey respondents by borough.
Brooklyn and Manhattan had the greatest number of survey respondents,
then followed by Queens. This is important to consider as it potentially
biases the results seen in this borough analysis, but we tried to
compensate for this issue using proportion-based analyses rather than
straight counts.</p>
<pre class="r"><code>#Location distribution 
borough_df &lt;- rider_data_full %&gt;% 
  count(borough)

#Pick blue from gradient 
viridis_blue &lt;- viridis(100)[40]

#Produce plot
plot_ly(
  borough_df,
  x = ~borough,
  y = ~n,
  type = &quot;bar&quot;,
  marker = list(color = viridis_blue),
  hovertemplate = &quot;Borough: %{x}&lt;br&gt;Count: %{y}&lt;extra&gt;&lt;/extra&gt;&quot;
) %&gt;%
  layout(
    title = &quot;Survey Respondents by Borough&quot;,
    xaxis = list(title = &quot;Borough&quot;),
    yaxis = list(title = &quot;Count&quot;),
    autosize = TRUE
  )</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-24be8d438ce6adb2ca58" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-24be8d438ce6adb2ca58">{"x":{"visdat":{"199433692e32":["function () ","plotlyVisDat"]},"cur_data":"199433692e32","attrs":{"199433692e32":{"x":{},"y":{},"marker":{"color":"#2A768EFF"},"hovertemplate":"Borough: %{x}<br>Count: %{y}<extra><\/extra>","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Survey Respondents by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Borough","type":"category","categoryorder":"array","categoryarray":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count"},"autosize":true,"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"y":[337,1999,11,1820,38,58,6,1031,117],"marker":{"color":"#2A768EFF","line":{"color":"rgba(31,119,180,1)"}},"hovertemplate":["Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><br> ### Aggregated Satisfaction Levels</p>
<pre class="r"><code>#Satisfaction 
satis_overall &lt;- rider_data_full %&gt;%
  count(overall_satisfaction) %&gt;%
  mutate(prop = n / sum(n),
         percent = paste0(round(prop*100,1), &quot;%&quot;))

#Set colors to gradient manually 
viridis_colors &lt;- viridis(nrow(satis_overall))

plot_ly(
  satis_overall,
  labels = ~overall_satisfaction,
  values = ~prop,
  type = &quot;pie&quot;,
  hole = .5,
  textinfo = &quot;label+percent&quot;,
  marker = list(colors = viridis_colors),   # ← APPLY VIRIDIS HERE
  hovertemplate = &quot;%{label}&lt;br&gt;%{percent}&lt;extra&gt;&lt;/extra&gt;&quot;
) %&gt;%
  layout(title = &quot;Aggregated Satisfaction Levels&quot;)</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ea34eb8815a73bda7add" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ea34eb8815a73bda7add">{"x":{"visdat":{"19943ddb496c":["function () ","plotlyVisDat"]},"cur_data":"19943ddb496c","attrs":{"19943ddb496c":{"labels":{},"values":{},"hole":0.5,"textinfo":"label+percent","marker":{"colors":["#440154FF","#3B528BFF","#21908CFF","#5DC863FF","#FDE725FF"]},"hovertemplate":"%{label}<br>%{percent}<extra><\/extra>","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Aggregated Satisfaction Levels","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["Highly unsatisfied","Neutral","Not satisfied","Somewhat satisfied","Very satisfied"],"values":[0.24884622484770169,0.15359054827395238,0.36643898836994648,0.20103378253645929,0.030090455971940187],"hole":0.5,"textinfo":"label+percent","marker":{"color":"rgba(31,119,180,1)","colors":["#440154FF","#3B528BFF","#21908CFF","#5DC863FF","#FDE725FF"],"line":{"color":"rgba(255,255,255,1)"}},"hovertemplate":["%{label}<br>%{percent}<extra><\/extra>","%{label}<br>%{percent}<extra><\/extra>","%{label}<br>%{percent}<extra><\/extra>","%{label}<br>%{percent}<extra><\/extra>","%{label}<br>%{percent}<extra><\/extra>"],"type":"pie","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
This section summarizes overall rider satisfaction across all boroughs
and regions. By aggregating responses on overall satisfaction, it
provides a clear snapshot of how satisfied riders are with their subway
experience at a high level.<br><br>The data show that a majority of
riders (36.6%) are not satisfied with their experience using the MTA,
while an additional 24.9% are highly unsatisfied. Together, this
indicates that over 60% of respondents have a negative view of the
subway system. Fewer riders reported being neutral or satisfied,
highlighting significant room for improvement. These patterns will be
further dissected through borough analysis, subway line analysis, and
regression analysis. Understanding these differences can help identify
targeted areas for service enhancements and better meet the needs of
riders across the city.
</p>
</div>
<p><br></p>
<pre class="r"><code>#Primary use of subway 
primary_df &lt;- rider_data_full %&gt;%
  count(borough, primary_use_of_subway) %&gt;%
  group_by(borough) %&gt;%
  mutate(prop = n / sum(n))

#Set colors for the categorical variable 
uses &lt;- unique(primary_df$primary_use_of_subway)
vir_cols &lt;- viridis(length(uses))
names(vir_cols) &lt;- uses

plot_ly(
  primary_df,
  x = ~borough,
  y = ~prop,
  color = ~primary_use_of_subway,
  type = &quot;bar&quot;,
  colors = vir_cols,
  hovertemplate =
    &quot;Borough: %{x}&lt;br&gt;Use: %{customdata}&lt;br&gt;Percent: %{y:.1%}&lt;extra&gt;&lt;/extra&gt;&quot;,
  customdata = ~primary_use_of_subway
) %&gt;%
  layout(
    barmode = &quot;stack&quot;,
    title = &quot;Primary Subway Use by Borough&quot;,
    yaxis = list(tickformat = &quot;.0%&quot;, title = &quot;Proportion&quot;)
  ) %&gt;%
  layout(autosize = TRUE)</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-4a8948cf625e2ffac357" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-4a8948cf625e2ffac357">{"x":{"visdat":{"19945a982400":["function () ","plotlyVisDat"]},"cur_data":"19945a982400","attrs":{"19945a982400":{"x":{},"y":{},"hovertemplate":"Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","customdata":{},"color":{},"colors":["#440154FF","#21908CFF","#FDE725FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","title":"Primary Subway Use by Borough","yaxis":{"domain":[0,1],"automargin":true,"tickformat":".0%","title":"Proportion"},"autosize":true,"xaxis":{"domain":[0,1],"automargin":true,"title":"borough","type":"category","categoryorder":"array","categoryarray":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"]},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Bronx","Brooklyn","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"y":[0.18397626112759644,0.13356678339169584,0.3098901098901099,0.23684210526315788,0.17241379310344829,0.66666666666666663,0.17361784675072744,0.34188034188034189],"hovertemplate":["Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>"],"customdata":["Other","Other","Other","Other","Other","Other","Other","Other"],"type":"bar","name":"Other","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Bronx","Brooklyn","Long Island","Manhattan","New York State","Queens","Staten Island"],"y":[0.053412462908011868,0.053026513256628313,0.18181818181818182,0.03021978021978022,0.068965517241379309,0.050436469447138699,0.034188034188034191],"hovertemplate":["Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>"],"customdata":["School","School","School","School","School","School","School"],"type":"bar","name":"School","marker":{"color":"rgba(33,144,140,1)","line":{"color":"rgba(33,144,140,1)"}},"textfont":{"color":"rgba(33,144,140,1)"},"error_y":{"color":"rgba(33,144,140,1)"},"error_x":{"color":"rgba(33,144,140,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"y":[0.76261127596439171,0.81340670335167586,0.81818181818181823,0.65989010989010988,0.76315789473684215,0.75862068965517238,0.33333333333333331,0.7759456838021338,0.62393162393162394],"hovertemplate":["Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Use: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>"],"customdata":["Work","Work","Work","Work","Work","Work","Work","Work","Work"],"type":"bar","name":"Work","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Overall, work was reported the most often for primary use of subway
across all boroughs. This observation makes sense for the obvious
commuters, those who live outside of NYC, but this trend remained across
this survey’s top boroughs of Brooklyn, Manhattan, and Queens. Brooklyn
and Long Island had the greatest proportion of subway use for work.
Regions outside of NYC listed ‘other’ as their primary use, which could
include tourism activities. Due to the structure of this survey’s
questions, we do not know the exact other reasons outside of work and
school.
</p>
</div>
<p><br><br></p>
<div id="ride-length-distribution-by-borough" class="section level3">
<h3>Ride Length Distribution by Borough</h3>
<pre class="r"><code>#Average subway ride length 
ride_df &lt;- rider_data_full %&gt;%
  count(borough, average_length_subway_ride)

#Set colors for the categorical variable 
boroughs &lt;- unique(ride_df$borough)
vir_cols &lt;- viridis(length(boroughs)) #one color for each borough
names(vir_cols) &lt;- boroughs  

#Produce plot
plot_ly(
  ride_df,
  x = ~average_length_subway_ride,
  y = ~n,
  color = ~borough,
  type = &quot;bar&quot;,
  colors = vir_cols,
  text = ~borough, #adding so the borough name will populate in the hover text
  textposition = &quot;none&quot;, #hide the label from printing onto the bar plot 
  hovertemplate = &quot;Borough: %{text}&lt;br&gt;Ride Length: %{x}&lt;br&gt;Count: %{y}&lt;extra&gt;&lt;/extra&gt;&quot;
) %&gt;%
  layout(
    barmode = &quot;stack&quot;,
    title = &quot;Ride Length Distribution by Borough&quot;,
    xaxis = list(title = &quot;Ride Length Category&quot;),
    yaxis = list(title = &quot;Count&quot;)
  )</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-83a548feaed906b7eb7d" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-83a548feaed906b7eb7d">{"x":{"visdat":{"199463b973d6":["function () ","plotlyVisDat"]},"cur_data":"199463b973d6","attrs":{"199463b973d6":{"x":{},"y":{},"text":{},"textposition":"none","hovertemplate":"Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","color":{},"colors":["#440154FF","#472D7BFF","#3B528BFF","#2C728EFF","#21908CFF","#27AD81FF","#5DC863FF","#AADC32FF","#FDE725FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","title":"Ride Length Distribution by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Ride Length Category","type":"category","categoryorder":"array","categoryarray":["< 20 min","20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours","< 20 min"],"y":[98,133,78,20,8],"text":["Bronx","Bronx","Bronx","Bronx","Bronx"],"textposition":["none","none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Bronx","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours","< 20 min"],"y":[850,705,232,26,186],"text":["Brooklyn","Brooklyn","Brooklyn","Brooklyn","Brooklyn"],"textposition":["none","none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Brooklyn","marker":{"color":"rgba(71,45,123,1)","line":{"color":"rgba(71,45,123,1)"}},"textfont":{"color":"rgba(71,45,123,1)"},"error_y":{"color":"rgba(71,45,123,1)"},"error_x":{"color":"rgba(71,45,123,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","< 20 min"],"y":[4,2,2,3],"text":["Long Island","Long Island","Long Island","Long Island"],"textposition":["none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Long Island","marker":{"color":"rgba(59,82,139,1)","line":{"color":"rgba(59,82,139,1)"}},"textfont":{"color":"rgba(59,82,139,1)"},"error_y":{"color":"rgba(59,82,139,1)"},"error_x":{"color":"rgba(59,82,139,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours","< 20 min"],"y":[904,374,61,11,470],"text":["Manhattan","Manhattan","Manhattan","Manhattan","Manhattan"],"textposition":["none","none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Manhattan","marker":{"color":"rgba(44,114,142,1)","line":{"color":"rgba(44,114,142,1)"}},"textfont":{"color":"rgba(44,114,142,1)"},"error_y":{"color":"rgba(44,114,142,1)"},"error_x":{"color":"rgba(44,114,142,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","< 20 min"],"y":[18,4,1,15],"text":["New Jersey","New Jersey","New Jersey","New Jersey"],"textposition":["none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"New Jersey","marker":{"color":"rgba(33,144,140,1)","line":{"color":"rgba(33,144,140,1)"}},"textfont":{"color":"rgba(33,144,140,1)"},"error_y":{"color":"rgba(33,144,140,1)"},"error_x":{"color":"rgba(33,144,140,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours","< 20 min"],"y":[22,13,2,2,19],"text":["New York State","New York State","New York State","New York State","New York State"],"textposition":["none","none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"New York State","marker":{"color":"rgba(39,173,129,1)","line":{"color":"rgba(39,173,129,1)"}},"textfont":{"color":"rgba(39,173,129,1)"},"error_y":{"color":"rgba(39,173,129,1)"},"error_x":{"color":"rgba(39,173,129,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min"],"y":[3,2,1],"text":["Outside NY","Outside NY","Outside NY"],"textposition":["none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Outside NY","marker":{"color":"rgba(93,200,99,1)","line":{"color":"rgba(93,200,99,1)"}},"textfont":{"color":"rgba(93,200,99,1)"},"error_y":{"color":"rgba(93,200,99,1)"},"error_x":{"color":"rgba(93,200,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours","< 20 min"],"y":[357,447,143,30,54],"text":["Queens","Queens","Queens","Queens","Queens"],"textposition":["none","none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Queens","marker":{"color":"rgba(170,220,50,1)","line":{"color":"rgba(170,220,50,1)"}},"textfont":{"color":"rgba(170,220,50,1)"},"error_y":{"color":"rgba(170,220,50,1)"},"error_x":{"color":"rgba(170,220,50,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["20 - 40 min","40 - 60 min","60 - 90 min","90 min - 2 hours","< 20 min"],"y":[60,12,9,5,31],"text":["Staten Island","Staten Island","Staten Island","Staten Island","Staten Island"],"textposition":["none","none","none","none","none"],"hovertemplate":["Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>","Borough: %{text}<br>Ride Length: %{x}<br>Count: %{y}<extra><\/extra>"],"type":"bar","name":"Staten Island","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Medium-length commutes were the most common across all boroughs. Given
that work was the primary reason respondents used the subway and that
Midtown Manhattan is a major employment hub, this pattern suggests many
riders travel moderate distances from their home boroughs into central
job centers. This remains true for Brooklyn and Manhattan, which have
the greatest proportion for medium-length commutes. The longest commute
time of 90+ minutes was most often reported by commuters from
Queens.<br><br>We expected to see the New York State respondent pool
distributed more evenly across the longer ride‐length categories,
especially given that work was identified as the primary reason for
subway use. Longer commutes are typically associated with workers
traveling from outside the city into core employment areas, so a more
balanced or long‐skewed pattern would have aligned with that assumption.
However, this expectation was not fully supported by the data. Instead,
New York State respondents—much like those from the city’s
boroughs—reported the highest frequencies in the medium ride‐length
categories. This suggests that even riders traveling from outside the
five boroughs may not be journeying as far as anticipated, possibly
reflecting shorter regional commutes, park-and-ride behavior, or the
presence of work destinations dispersed beyond Midtown Manhattan.
</p>
</div>
<p><br></p>
</div>
<div id="most-used-subway-lines-by-borough" class="section level3">
<h3>Most Used Subway Lines by Borough</h3>
<pre class="r"><code>#Most used line 
line_df &lt;- rider_data_full %&gt;%
  count(borough, subway_line_used_most_often)

#Make the hover show counts per borough
hover_df &lt;- line_df %&gt;%
  group_by(subway_line_used_most_often) %&gt;%
  summarise(
    total_count = sum(n),
    borough_info = paste0(borough, &quot;: &quot;, n, collapse = &quot;&lt;br&gt;&quot;)
  )

#Add colors for each subway line 
line_colors &lt;- tibble::tribble(
  ~subway_line, ~color,
  &quot;1&quot;, &quot;#EE352E&quot;,
  &quot;2&quot;, &quot;#EE352E&quot;,
  &quot;3&quot;, &quot;#EE352E&quot;,
  &quot;4&quot;, &quot;#00933C&quot;,
  &quot;5&quot;, &quot;#00933C&quot;,
  &quot;6&quot;, &quot;#00933C&quot;,
  &quot;7&quot;, &quot;#B933AD&quot;,
  &quot;A&quot;, &quot;#0039A6&quot;,
  &quot;C&quot;, &quot;#0039A6&quot;,
  &quot;E&quot;, &quot;#0039A6&quot;,
  &quot;B&quot;, &quot;#FF6319&quot;,
  &quot;D&quot;, &quot;#FF6319&quot;,
  &quot;F&quot;, &quot;#FF6319&quot;,
  &quot;M&quot;, &quot;#FF6319&quot;,
  &quot;N&quot;, &quot;#FCCC0A&quot;,
  &quot;Q&quot;, &quot;#FCCC0A&quot;,
  &quot;R&quot;, &quot;#FCCC0A&quot;,
  &quot;W&quot;, &quot;#FCCC0A&quot;,
  &quot;G&quot;, &quot;#6CBE45&quot;,
  &quot;J&quot;, &quot;#996633&quot;,
  &quot;Z&quot;, &quot;#996633&quot;,
  &quot;L&quot;, &quot;#A7A9AC&quot;,
  &quot;S&quot;, &quot;#808183&quot;
)
hover_df &lt;- hover_df %&gt;%
  left_join(line_colors, by = c(&quot;subway_line_used_most_often&quot; = &quot;subway_line&quot;))


#Produce plot
plot_ly(hover_df) %&gt;%
  add_segments(
    x = 0,
    xend = ~total_count,
    y = ~reorder(subway_line_used_most_often, total_count),
    yend = ~reorder(subway_line_used_most_often, total_count),
    line = list(color = ~color),
    hoverinfo = &quot;none&quot;,
    showlegend = FALSE 
  ) %&gt;%
  add_markers(
    x = ~total_count,
    y = ~reorder(subway_line_used_most_often, total_count),
    marker = list(color = ~color),
    hovertemplate = &quot;Line: %{y}&lt;br&gt;Total Count: %{x}&lt;br&gt;%{customdata}&lt;extra&gt;&lt;/extra&gt;&quot;,
    customdata = ~borough_info,
    showlegend = FALSE
  ) %&gt;%
  layout(
    title = &quot;Most Used Subway Lines by Borough&quot;,
    xaxis = list(title = &quot;Count&quot;),
    yaxis = list(title = &quot;Subway Line&quot;)
  )</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6fcdc0e4c35ea08ad37f" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-6fcdc0e4c35ea08ad37f">{"x":{"visdat":{"19945f535daa":["function () ","plotlyVisDat"]},"cur_data":"19945f535daa","attrs":{"19945f535daa":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":0,"y":{},"xend":{},"yend":{},"type":"scatter","mode":"lines","line":{"color":{}},"hoverinfo":"none","showlegend":false,"inherit":true},"19945f535daa.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","marker":{"color":{}},"hovertemplate":"Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","customdata":{},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Most Used Subway Lines by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Count"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Subway Line","type":"category","categoryorder":"array","categoryarray":["Z","S","Staten Island Railway","W","J","B","5","M","G","3","D","4","C","6","N","E","Q","7","2","F","L","R","A","1"]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0,1174,null,0,286,null,0,97,null,0,165,null,0,79,null,0,223,null,0,259,null,0,469,null,0,75,null,0,178,null,0,150,null,0,240,null,0,385,null,0,92,null,0,72,null,0,404,null,0,89,null,0,226,null,0,244,null,0,462,null,0,3,null,0,18,null,0,26,null,0,1],"y":["1","1",null,"2","2",null,"3","3",null,"4","4",null,"5","5",null,"6","6",null,"7","7",null,"A","A",null,"B","B",null,"C","C",null,"D","D",null,"E","E",null,"F","F",null,"G","G",null,"J","J",null,"L","L",null,"M","M",null,"N","N",null,"Q","Q",null,"R","R",null,"S","S",null,"Staten Island Railway","Staten Island Railway",null,"W","W",null,"Z","Z"],"type":"scatter","mode":"lines","line":{"color":["#EE352E","#EE352E","#EE352E","#00933C","#00933C","#00933C","#B933AD","#0039A6","#FF6319","#0039A6","#FF6319","#0039A6","#FF6319","#6CBE45","#996633","#A7A9AC","#FF6319","#FCCC0A","#FCCC0A","#FCCC0A","#808183",null,"#FCCC0A","#996633"]},"hoverinfo":["none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none",null,"none","none"],"showlegend":false,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1174,286,97,165,79,223,259,469,75,178,150,240,385,92,72,404,89,226,244,462,3,18,26,1],"y":["1","2","3","4","5","6","7","A","B","C","D","E","F","G","J","L","M","N","Q","R","S","Staten Island Railway","W","Z"],"type":"scatter","mode":"markers","marker":{"color":["#EE352E","#EE352E","#EE352E","#00933C","#00933C","#00933C","#B933AD","#0039A6","#FF6319","#0039A6","#FF6319","#0039A6","#FF6319","#6CBE45","#996633","#A7A9AC","#FF6319","#FCCC0A","#FCCC0A","#FCCC0A","#808183",null,"#FCCC0A","#996633"],"line":{"color":"rgba(255,127,14,1)"}},"hovertemplate":["Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>","Line: %{y}<br>Total Count: %{x}<br>%{customdata}<extra><\/extra>"],"customdata":["Bronx: 86<br>Brooklyn: 277<br>Long Island: 1<br>Manhattan: 614<br>New Jersey: 9<br>New York State: 19<br>Outside NY: 2<br>Queens: 119<br>Staten Island: 47","Bronx: 55<br>Brooklyn: 109<br>Manhattan: 107<br>New Jersey: 2<br>New York State: 7<br>Queens: 3<br>Staten Island: 3","Brooklyn: 45<br>Manhattan: 50<br>Queens: 2","Bronx: 37<br>Brooklyn: 49<br>Manhattan: 46<br>New Jersey: 1<br>New York State: 14<br>Outside NY: 1<br>Queens: 1<br>Staten Island: 16","Bronx: 25<br>Brooklyn: 25<br>Manhattan: 18<br>New York State: 4<br>Queens: 2<br>Staten Island: 5","Bronx: 73<br>Brooklyn: 4<br>Manhattan: 139<br>New Jersey: 1<br>New York State: 4<br>Queens: 1<br>Staten Island: 1","Bronx: 1<br>Brooklyn: 9<br>Manhattan: 9<br>New Jersey: 4<br>New York State: 2<br>Queens: 234","Bronx: 3<br>Brooklyn: 101<br>Manhattan: 295<br>New Jersey: 9<br>New York State: 2<br>Outside NY: 1<br>Queens: 58","Bronx: 4<br>Brooklyn: 52<br>Long Island: 1<br>Manhattan: 18","Brooklyn: 67<br>Long Island: 1<br>Manhattan: 105<br>New Jersey: 3<br>Queens: 2","Bronx: 40<br>Brooklyn: 66<br>Manhattan: 39<br>New York State: 2<br>Queens: 2<br>Staten Island: 1","Bronx: 4<br>Brooklyn: 4<br>Long Island: 4<br>Manhattan: 83<br>New Jersey: 3<br>New York State: 1<br>Outside NY: 1<br>Queens: 140","Bronx: 2<br>Brooklyn: 166<br>Long Island: 2<br>Manhattan: 101<br>New Jersey: 1<br>New York State: 3<br>Queens: 110","Brooklyn: 88<br>Manhattan: 2<br>New Jersey: 1<br>Queens: 1","Brooklyn: 46<br>Manhattan: 7<br>Queens: 19","Brooklyn: 347<br>Manhattan: 30<br>Queens: 27","Brooklyn: 38<br>Manhattan: 7<br>Queens: 44","Bronx: 2<br>Brooklyn: 56<br>Long Island: 1<br>Manhattan: 18<br>Queens: 148<br>Staten Island: 1","Brooklyn: 142<br>Manhattan: 94<br>New Jersey: 4<br>Outside NY: 1<br>Queens: 1<br>Staten Island: 2","Bronx: 3<br>Brooklyn: 308<br>Long Island: 1<br>Manhattan: 36<br>Queens: 91<br>Staten Island: 23","Queens: 2<br>Staten Island: 1","Queens: 1<br>Staten Island: 17","Bronx: 2<br>Manhattan: 1<br>Queens: 23","Manhattan: 1"],"showlegend":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Subway line usage varied greatly at an aggregated level as well as
across boroughs. If you hover over each dot at the end of the subway
line, you can see its breakdown of total respondents and breakdown of
respondent counts by borough. The 1 train was the most reported subway
line that was used (N=1174). This was followed by the A line (N=469),
but with a pretty significant drop in total counts. Both the 1 and A
line had the greatest reports from Manhattan, at N=614 and N=295,
respectively.
</p>
</div>
<p><br></p>
</div>
<div id="affordability-perception-by-borough" class="section level3">
<h3>Affordability Perception by Borough</h3>
<pre class="r"><code>#Perception of affordability 
afford_df &lt;- rider_data_full %&gt;%
  count(borough, is_subway_affordable) %&gt;%
  group_by(borough) %&gt;%
  mutate(prop = n / sum(n))

#Initialize to see unique TRUE/FALSE values 
vals &lt;- unique(afford_df$is_subway_affordable)

#Make colors for each categorical option
vals &lt;- unique(afford_df$is_subway_affordable)
vir_cols &lt;- viridis(length(vals))     
names(vir_cols) &lt;- vals                        


plot_ly(
  afford_df,
  x = ~borough,
  y = ~prop,
  color = ~is_subway_affordable,
  type = &quot;bar&quot;,
  colors = vir_cols,                         
  customdata = ~is_subway_affordable,
  hovertemplate = &quot;Borough: %{x}&lt;br&gt;Affordability: %{customdata}&lt;br&gt;Percent: %{y:.1%}&lt;extra&gt;&lt;/extra&gt;&quot;
) %&gt;%
  layout(
    barmode = &quot;stack&quot;,
    title = &quot;Affordability Perception by Borough&quot;,
    yaxis = list(tickformat = &quot;.0%&quot;, title = &quot;Proportion&quot;)
  )</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-007e864618475547d202" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-007e864618475547d202">{"x":{"visdat":{"19947673fa2":["function () ","plotlyVisDat"]},"cur_data":"19947673fa2","attrs":{"19947673fa2":{"x":{},"y":{},"customdata":{},"hovertemplate":"Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","color":{},"colors":["#440154FF","#FDE725FF"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","title":"Affordability Perception by Borough","yaxis":{"domain":[0,1],"automargin":true,"tickformat":".0%","title":"Proportion"},"xaxis":{"domain":[0,1],"automargin":true,"title":"borough","type":"category","categoryorder":"array","categoryarray":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"]},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"y":[0.52225519287833833,0.37918959479739872,0.36363636363636365,0.35164835164835168,0.36842105263157893,0.5,0.16666666666666666,0.4267701260911736,0.36752136752136755],"customdata":[false,false,false,false,false,false,false,false,false],"hovertemplate":["Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>"],"type":"bar","name":"FALSE","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"y":[0.47774480712166173,0.62081040520260133,0.63636363636363635,0.64835164835164838,0.63157894736842102,0.5,0.83333333333333337,0.5732298739088264,0.63247863247863245],"customdata":[true,true,true,true,true,true,true,true,true],"hovertemplate":["Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>","Borough: %{x}<br>Affordability: %{customdata}<br>Percent: %{y:.1%}<extra><\/extra>"],"type":"bar","name":"TRUE","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Slightly less than half of respondents in each borough consider the
subway to be affordable. Interestingly, riders from outside New York
reported the highest perception of affordability compared with any of
the city’s boroughs, suggesting that those traveling in from surrounding
regions may view subway costs more favorably relative to their usual
public transportation options in the U.S., which are likely not as
expansive as the MTA system. The Bronx (47.7%%) and New York State (50%)
had the smallest proportion of affordability perception relative to
other boroughs. When considering the fact that many of these riders are
work commuters, this higher perception of affordability may reflect the
value they place on the subway as a cost-effective option with their
transportation needs.
</p>
</div>
<p><br></p>
</div>
<div id="opinions-on-increased-fares-by-borough" class="section level3">
<h3>Opinions on Increased Fares by Borough</h3>
<pre class="r"><code>#Opinion on increased fare 
opinion_df &lt;- rider_data_full %&gt;%
  count(borough, opinion_on_increased_fares) %&gt;%
  group_by(borough) %&gt;%
  mutate(
    prop = n / sum(n),
    hover_text = paste0(
      &quot;Borough: &quot;, borough, &quot;&lt;br&gt;&quot;,
      &quot;Opinion: &quot;, opinion_on_increased_fares, &quot;&lt;br&gt;&quot;,
      &quot;Count: &quot;, n, &quot;&lt;br&gt;&quot;,
      &quot;Proportion: &quot;, scales::percent(prop, accuracy = 0.1)
    )
  ) %&gt;%
  ungroup()

#Convert to wide
heat_matrix &lt;- opinion_df %&gt;%
  select(borough, opinion_on_increased_fares, prop) %&gt;%
  pivot_wider(
    names_from = opinion_on_increased_fares,
    values_from = prop
  )

#Convert to wide for the hovering information
hover_matrix &lt;- opinion_df %&gt;%
  select(borough, opinion_on_increased_fares, hover_text) %&gt;%
  pivot_wider(
    names_from = opinion_on_increased_fares,
    values_from = hover_text
  )

#Produce plot
plot_ly(
  x = colnames(heat_matrix)[-1],
  y = heat_matrix$borough,
  z = as.matrix(heat_matrix[,-1]),
  text = as.matrix(hover_matrix[,-1]),
  type = &quot;heatmap&quot;,
  hoverinfo = &quot;text&quot;,
  colorscale = &quot;Viridis&quot;) %&gt;%
  layout(
    title = &quot;Opinions on Increased Fares by Borough&quot;,
    xaxis = list(title = &quot;Opinion&quot;),
    yaxis = list(title = &quot;Borough&quot;)
  )</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ef570798e2e0d8e506ea" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ef570798e2e0d8e506ea">{"x":{"visdat":{"19941baf611b":["function () ","plotlyVisDat"]},"cur_data":"19941baf611b","attrs":{"19941baf611b":{"x":["Negative","Neutral","Other / No thoughts","Positive","Unaware"],"y":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"z":[[0.29376854599406527,0.080118694362017809,0.053412462908011868,0.52818991097922852,0.044510385756676561],[0.15557778889444723,0.13906953476738368,0.066033016508254133,0.57628814407203599,0.063031515757878936],[0.27272727272727271,0.18181818181818182,null,0.27272727272727271,0.27272727272727271],[0.13406593406593406,0.14560439560439561,0.081868131868131869,0.55384615384615388,0.08461538461538462],[0.052631578947368418,0.13157894736842105,0.078947368421052627,0.65789473684210531,0.078947368421052627],[0.18965517241379309,0.13793103448275862,0.10344827586206896,0.56896551724137934,null],[0.5,null,null,0.33333333333333331,0.16666666666666666],[0.17652764306498545,0.10863239573229874,0.044616876818622697,0.62560620756547036,0.044616876818622697],[0.22222222222222221,0.12820512820512819,0.034188034188034191,0.5641025641025641,0.05128205128205128]],"text":[["Borough: Bronx<br>Opinion: Negative<br>Count: 99<br>Proportion: 29.4%","Borough: Bronx<br>Opinion: Neutral<br>Count: 27<br>Proportion: 8.0%","Borough: Bronx<br>Opinion: Other / No thoughts<br>Count: 18<br>Proportion: 5.3%","Borough: Bronx<br>Opinion: Positive<br>Count: 178<br>Proportion: 52.8%","Borough: Bronx<br>Opinion: Unaware<br>Count: 15<br>Proportion: 4.5%"],["Borough: Brooklyn<br>Opinion: Negative<br>Count: 311<br>Proportion: 15.6%","Borough: Brooklyn<br>Opinion: Neutral<br>Count: 278<br>Proportion: 13.9%","Borough: Brooklyn<br>Opinion: Other / No thoughts<br>Count: 132<br>Proportion: 6.6%","Borough: Brooklyn<br>Opinion: Positive<br>Count: 1152<br>Proportion: 57.6%","Borough: Brooklyn<br>Opinion: Unaware<br>Count: 126<br>Proportion: 6.3%"],["Borough: Long Island<br>Opinion: Negative<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Neutral<br>Count: 2<br>Proportion: 18.2%",null,"Borough: Long Island<br>Opinion: Positive<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Unaware<br>Count: 3<br>Proportion: 27.3%"],["Borough: Manhattan<br>Opinion: Negative<br>Count: 244<br>Proportion: 13.4%","Borough: Manhattan<br>Opinion: Neutral<br>Count: 265<br>Proportion: 14.6%","Borough: Manhattan<br>Opinion: Other / No thoughts<br>Count: 149<br>Proportion: 8.2%","Borough: Manhattan<br>Opinion: Positive<br>Count: 1008<br>Proportion: 55.4%","Borough: Manhattan<br>Opinion: Unaware<br>Count: 154<br>Proportion: 8.5%"],["Borough: New Jersey<br>Opinion: Negative<br>Count: 2<br>Proportion: 5.3%","Borough: New Jersey<br>Opinion: Neutral<br>Count: 5<br>Proportion: 13.2%","Borough: New Jersey<br>Opinion: Other / No thoughts<br>Count: 3<br>Proportion: 7.9%","Borough: New Jersey<br>Opinion: Positive<br>Count: 25<br>Proportion: 65.8%","Borough: New Jersey<br>Opinion: Unaware<br>Count: 3<br>Proportion: 7.9%"],["Borough: New York State<br>Opinion: Negative<br>Count: 11<br>Proportion: 19.0%","Borough: New York State<br>Opinion: Neutral<br>Count: 8<br>Proportion: 13.8%","Borough: New York State<br>Opinion: Other / No thoughts<br>Count: 6<br>Proportion: 10.3%","Borough: New York State<br>Opinion: Positive<br>Count: 33<br>Proportion: 56.9%",null],["Borough: Outside NY<br>Opinion: Negative<br>Count: 3<br>Proportion: 50.0%",null,null,"Borough: Outside NY<br>Opinion: Positive<br>Count: 2<br>Proportion: 33.3%","Borough: Outside NY<br>Opinion: Unaware<br>Count: 1<br>Proportion: 16.7%"],["Borough: Queens<br>Opinion: Negative<br>Count: 182<br>Proportion: 17.7%","Borough: Queens<br>Opinion: Neutral<br>Count: 112<br>Proportion: 10.9%","Borough: Queens<br>Opinion: Other / No thoughts<br>Count: 46<br>Proportion: 4.5%","Borough: Queens<br>Opinion: Positive<br>Count: 645<br>Proportion: 62.6%","Borough: Queens<br>Opinion: Unaware<br>Count: 46<br>Proportion: 4.5%"],["Borough: Staten Island<br>Opinion: Negative<br>Count: 26<br>Proportion: 22.2%","Borough: Staten Island<br>Opinion: Neutral<br>Count: 15<br>Proportion: 12.8%","Borough: Staten Island<br>Opinion: Other / No thoughts<br>Count: 4<br>Proportion: 3.4%","Borough: Staten Island<br>Opinion: Positive<br>Count: 66<br>Proportion: 56.4%","Borough: Staten Island<br>Opinion: Unaware<br>Count: 6<br>Proportion: 5.1%"]],"hoverinfo":"text","colorscale":"Viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Opinions on Increased Fares by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Opinion"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Borough"},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Viridis","showscale":true,"x":["Negative","Neutral","Other / No thoughts","Positive","Unaware"],"y":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"z":[[0.29376854599406527,0.080118694362017809,0.053412462908011868,0.52818991097922852,0.044510385756676561],[0.15557778889444723,0.13906953476738368,0.066033016508254133,0.57628814407203599,0.063031515757878936],[0.27272727272727271,0.18181818181818182,null,0.27272727272727271,0.27272727272727271],[0.13406593406593406,0.14560439560439561,0.081868131868131869,0.55384615384615388,0.08461538461538462],[0.052631578947368418,0.13157894736842105,0.078947368421052627,0.65789473684210531,0.078947368421052627],[0.18965517241379309,0.13793103448275862,0.10344827586206896,0.56896551724137934,null],[0.5,null,null,0.33333333333333331,0.16666666666666666],[0.17652764306498545,0.10863239573229874,0.044616876818622697,0.62560620756547036,0.044616876818622697],[0.22222222222222221,0.12820512820512819,0.034188034188034191,0.5641025641025641,0.05128205128205128]],"text":[["Borough: Bronx<br>Opinion: Negative<br>Count: 99<br>Proportion: 29.4%","Borough: Bronx<br>Opinion: Neutral<br>Count: 27<br>Proportion: 8.0%","Borough: Bronx<br>Opinion: Other / No thoughts<br>Count: 18<br>Proportion: 5.3%","Borough: Bronx<br>Opinion: Positive<br>Count: 178<br>Proportion: 52.8%","Borough: Bronx<br>Opinion: Unaware<br>Count: 15<br>Proportion: 4.5%"],["Borough: Brooklyn<br>Opinion: Negative<br>Count: 311<br>Proportion: 15.6%","Borough: Brooklyn<br>Opinion: Neutral<br>Count: 278<br>Proportion: 13.9%","Borough: Brooklyn<br>Opinion: Other / No thoughts<br>Count: 132<br>Proportion: 6.6%","Borough: Brooklyn<br>Opinion: Positive<br>Count: 1152<br>Proportion: 57.6%","Borough: Brooklyn<br>Opinion: Unaware<br>Count: 126<br>Proportion: 6.3%"],["Borough: Long Island<br>Opinion: Negative<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Neutral<br>Count: 2<br>Proportion: 18.2%",null,"Borough: Long Island<br>Opinion: Positive<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Unaware<br>Count: 3<br>Proportion: 27.3%"],["Borough: Manhattan<br>Opinion: Negative<br>Count: 244<br>Proportion: 13.4%","Borough: Manhattan<br>Opinion: Neutral<br>Count: 265<br>Proportion: 14.6%","Borough: Manhattan<br>Opinion: Other / No thoughts<br>Count: 149<br>Proportion: 8.2%","Borough: Manhattan<br>Opinion: Positive<br>Count: 1008<br>Proportion: 55.4%","Borough: Manhattan<br>Opinion: Unaware<br>Count: 154<br>Proportion: 8.5%"],["Borough: New Jersey<br>Opinion: Negative<br>Count: 2<br>Proportion: 5.3%","Borough: New Jersey<br>Opinion: Neutral<br>Count: 5<br>Proportion: 13.2%","Borough: New Jersey<br>Opinion: Other / No thoughts<br>Count: 3<br>Proportion: 7.9%","Borough: New Jersey<br>Opinion: Positive<br>Count: 25<br>Proportion: 65.8%","Borough: New Jersey<br>Opinion: Unaware<br>Count: 3<br>Proportion: 7.9%"],["Borough: New York State<br>Opinion: Negative<br>Count: 11<br>Proportion: 19.0%","Borough: New York State<br>Opinion: Neutral<br>Count: 8<br>Proportion: 13.8%","Borough: New York State<br>Opinion: Other / No thoughts<br>Count: 6<br>Proportion: 10.3%","Borough: New York State<br>Opinion: Positive<br>Count: 33<br>Proportion: 56.9%",null],["Borough: Outside NY<br>Opinion: Negative<br>Count: 3<br>Proportion: 50.0%",null,null,"Borough: Outside NY<br>Opinion: Positive<br>Count: 2<br>Proportion: 33.3%","Borough: Outside NY<br>Opinion: Unaware<br>Count: 1<br>Proportion: 16.7%"],["Borough: Queens<br>Opinion: Negative<br>Count: 182<br>Proportion: 17.7%","Borough: Queens<br>Opinion: Neutral<br>Count: 112<br>Proportion: 10.9%","Borough: Queens<br>Opinion: Other / No thoughts<br>Count: 46<br>Proportion: 4.5%","Borough: Queens<br>Opinion: Positive<br>Count: 645<br>Proportion: 62.6%","Borough: Queens<br>Opinion: Unaware<br>Count: 46<br>Proportion: 4.5%"],["Borough: Staten Island<br>Opinion: Negative<br>Count: 26<br>Proportion: 22.2%","Borough: Staten Island<br>Opinion: Neutral<br>Count: 15<br>Proportion: 12.8%","Borough: Staten Island<br>Opinion: Other / No thoughts<br>Count: 4<br>Proportion: 3.4%","Borough: Staten Island<br>Opinion: Positive<br>Count: 66<br>Proportion: 56.4%","Borough: Staten Island<br>Opinion: Unaware<br>Count: 6<br>Proportion: 5.1%"]],"hoverinfo":"text","type":"heatmap","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
This heat map illustrates the distribution of negative, neutral, and
positive opinions regarding potential subway fare increases. There was
insufficient data from the regions outside of NY and Long Island which
led to gaps in the heat map.<br><br>Surprisingly, a majority of
respondents expressed positive opinions about the possibility of higher
fares, suggesting that many riders may recognize the value of investing
in the system or perceive the benefits of fare adjustments as
outweighing the costs. Queens and New Jersey respondents had the highest
proportion of positive opinions on increased fares, at 62.6% and 65.8%,
respectively. The Bronx, Long Island, and Staten Island had the highest
proportion of negative opinions at 29.5%, 27.3%, and 22.2% respectively.
There was a portion of respondents who either had no opinion or was
unaware of the issue.<br><br>It’s important to note that despite these
reports of positive opinions on increased fares, the overall
satisfaction of MTA ridership is quite poor, recall that about 60% of
riders are unsatisfied with their MTA experience. Though there is not
qualitative data to confirm this, we suspect that respondents may
believe increased fares could lead to improved services, potentially
solving the poor satisfaction they have for the overall MTA system.
</p>
</div>
<p><br></p>
</div>
<div id="satisfaction-levels-by-borough" class="section level3">
<h3>Satisfaction Levels by Borough</h3>
<pre class="r"><code># Prep data
satis_df &lt;- rider_data_full %&gt;%
  count(borough, overall_satisfaction) %&gt;%
  group_by(borough) %&gt;%
  mutate(
    prop = n / sum(n),
    hover_text = paste0(
      &quot;Borough: &quot;, borough, &quot;&lt;br&gt;&quot;,
      &quot;Opinion: &quot;, overall_satisfaction, &quot;&lt;br&gt;&quot;,
      &quot;Count: &quot;, n, &quot;&lt;br&gt;&quot;,
      &quot;Proportion: &quot;, scales::percent(prop, accuracy = 0.1)
    )
  ) %&gt;%
  ungroup()

#Convert to wide
heat_matrix &lt;- satis_df %&gt;%
  select(borough, overall_satisfaction, prop) %&gt;%
  pivot_wider(
    names_from = overall_satisfaction,
    values_from = prop
  )

#Convert to wide for the hovering information
hover_matrix &lt;- satis_df %&gt;%
  select(borough, overall_satisfaction, hover_text) %&gt;%
  pivot_wider(
    names_from = overall_satisfaction,
    values_from = hover_text
  )

#Produce plot
plot_ly(
  x = colnames(heat_matrix)[-1],
  y = heat_matrix$borough,
  z = as.matrix(heat_matrix[,-1]),
  text = as.matrix(hover_matrix[,-1]),
  type = &quot;heatmap&quot;,
  hoverinfo = &quot;text&quot;,
  colorscale = &quot;Viridis&quot;) %&gt;%
  layout(
    title = &quot;Overall Satisfaction by Borough&quot;,
    xaxis = list(title = &quot;Satisfaction Level&quot;),
    yaxis = list(title = &quot;Borough&quot;)
  )</code></pre>
<div class="figure">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f3814e369fbd888a692c" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-f3814e369fbd888a692c">{"x":{"visdat":{"19944900209a":["function () ","plotlyVisDat"]},"cur_data":"19944900209a","attrs":{"19944900209a":{"x":["Highly unsatisfied","Neutral","Not satisfied","Somewhat satisfied","Very satisfied"],"y":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"z":[[0.3056379821958457,0.1394658753709199,0.32937685459940652,0.20178041543026706,0.023738872403560832],[0.28264132066033015,0.15057528764382191,0.38119059529764882,0.16358179089544772,0.022011005502751375],[0.18181818181818182,0.27272727272727271,0.090909090909090912,0.27272727272727271,0.18181818181818182],[0.19725274725274725,0.160989010989011,0.35164835164835168,0.25054945054945055,0.039560439560439559],[0.078947368421052627,0.15789473684210525,0.34210526315789475,0.31578947368421051,0.10526315789473684],[0.1206896551724138,0.22413793103448276,0.43103448275862066,0.20689655172413793,0.017241379310344827],[0.16666666666666666,0.16666666666666666,0.5,0.16666666666666666,null],[0.28903976721629487,0.13191076624636275,0.38991270611057227,0.1716779825412221,0.017458777885548012],[0.085470085470085472,0.27350427350427353,0.23931623931623933,0.28205128205128205,0.11965811965811966]],"text":[["Borough: Bronx<br>Opinion: Highly unsatisfied<br>Count: 103<br>Proportion: 30.6%","Borough: Bronx<br>Opinion: Neutral<br>Count: 47<br>Proportion: 13.9%","Borough: Bronx<br>Opinion: Not satisfied<br>Count: 111<br>Proportion: 32.9%","Borough: Bronx<br>Opinion: Somewhat satisfied<br>Count: 68<br>Proportion: 20.2%","Borough: Bronx<br>Opinion: Very satisfied<br>Count: 8<br>Proportion: 2.4%"],["Borough: Brooklyn<br>Opinion: Highly unsatisfied<br>Count: 565<br>Proportion: 28.3%","Borough: Brooklyn<br>Opinion: Neutral<br>Count: 301<br>Proportion: 15.1%","Borough: Brooklyn<br>Opinion: Not satisfied<br>Count: 762<br>Proportion: 38.1%","Borough: Brooklyn<br>Opinion: Somewhat satisfied<br>Count: 327<br>Proportion: 16.4%","Borough: Brooklyn<br>Opinion: Very satisfied<br>Count: 44<br>Proportion: 2.2%"],["Borough: Long Island<br>Opinion: Highly unsatisfied<br>Count: 2<br>Proportion: 18.2%","Borough: Long Island<br>Opinion: Neutral<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Not satisfied<br>Count: 1<br>Proportion: 9.1%","Borough: Long Island<br>Opinion: Somewhat satisfied<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Very satisfied<br>Count: 2<br>Proportion: 18.2%"],["Borough: Manhattan<br>Opinion: Highly unsatisfied<br>Count: 359<br>Proportion: 19.7%","Borough: Manhattan<br>Opinion: Neutral<br>Count: 293<br>Proportion: 16.1%","Borough: Manhattan<br>Opinion: Not satisfied<br>Count: 640<br>Proportion: 35.2%","Borough: Manhattan<br>Opinion: Somewhat satisfied<br>Count: 456<br>Proportion: 25.1%","Borough: Manhattan<br>Opinion: Very satisfied<br>Count: 72<br>Proportion: 4.0%"],["Borough: New Jersey<br>Opinion: Highly unsatisfied<br>Count: 3<br>Proportion: 7.9%","Borough: New Jersey<br>Opinion: Neutral<br>Count: 6<br>Proportion: 15.8%","Borough: New Jersey<br>Opinion: Not satisfied<br>Count: 13<br>Proportion: 34.2%","Borough: New Jersey<br>Opinion: Somewhat satisfied<br>Count: 12<br>Proportion: 31.6%","Borough: New Jersey<br>Opinion: Very satisfied<br>Count: 4<br>Proportion: 10.5%"],["Borough: New York State<br>Opinion: Highly unsatisfied<br>Count: 7<br>Proportion: 12.1%","Borough: New York State<br>Opinion: Neutral<br>Count: 13<br>Proportion: 22.4%","Borough: New York State<br>Opinion: Not satisfied<br>Count: 25<br>Proportion: 43.1%","Borough: New York State<br>Opinion: Somewhat satisfied<br>Count: 12<br>Proportion: 20.7%","Borough: New York State<br>Opinion: Very satisfied<br>Count: 1<br>Proportion: 1.7%"],["Borough: Outside NY<br>Opinion: Highly unsatisfied<br>Count: 1<br>Proportion: 16.7%","Borough: Outside NY<br>Opinion: Neutral<br>Count: 1<br>Proportion: 16.7%","Borough: Outside NY<br>Opinion: Not satisfied<br>Count: 3<br>Proportion: 50.0%","Borough: Outside NY<br>Opinion: Somewhat satisfied<br>Count: 1<br>Proportion: 16.7%",null],["Borough: Queens<br>Opinion: Highly unsatisfied<br>Count: 298<br>Proportion: 28.9%","Borough: Queens<br>Opinion: Neutral<br>Count: 136<br>Proportion: 13.2%","Borough: Queens<br>Opinion: Not satisfied<br>Count: 402<br>Proportion: 39.0%","Borough: Queens<br>Opinion: Somewhat satisfied<br>Count: 177<br>Proportion: 17.2%","Borough: Queens<br>Opinion: Very satisfied<br>Count: 18<br>Proportion: 1.7%"],["Borough: Staten Island<br>Opinion: Highly unsatisfied<br>Count: 10<br>Proportion: 8.5%","Borough: Staten Island<br>Opinion: Neutral<br>Count: 32<br>Proportion: 27.4%","Borough: Staten Island<br>Opinion: Not satisfied<br>Count: 28<br>Proportion: 23.9%","Borough: Staten Island<br>Opinion: Somewhat satisfied<br>Count: 33<br>Proportion: 28.2%","Borough: Staten Island<br>Opinion: Very satisfied<br>Count: 14<br>Proportion: 12.0%"]],"hoverinfo":"text","colorscale":"Viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"heatmap"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Overall Satisfaction by Borough","xaxis":{"domain":[0,1],"automargin":true,"title":"Satisfaction Level"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Borough"},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Viridis","showscale":true,"x":["Highly unsatisfied","Neutral","Not satisfied","Somewhat satisfied","Very satisfied"],"y":["Bronx","Brooklyn","Long Island","Manhattan","New Jersey","New York State","Outside NY","Queens","Staten Island"],"z":[[0.3056379821958457,0.1394658753709199,0.32937685459940652,0.20178041543026706,0.023738872403560832],[0.28264132066033015,0.15057528764382191,0.38119059529764882,0.16358179089544772,0.022011005502751375],[0.18181818181818182,0.27272727272727271,0.090909090909090912,0.27272727272727271,0.18181818181818182],[0.19725274725274725,0.160989010989011,0.35164835164835168,0.25054945054945055,0.039560439560439559],[0.078947368421052627,0.15789473684210525,0.34210526315789475,0.31578947368421051,0.10526315789473684],[0.1206896551724138,0.22413793103448276,0.43103448275862066,0.20689655172413793,0.017241379310344827],[0.16666666666666666,0.16666666666666666,0.5,0.16666666666666666,null],[0.28903976721629487,0.13191076624636275,0.38991270611057227,0.1716779825412221,0.017458777885548012],[0.085470085470085472,0.27350427350427353,0.23931623931623933,0.28205128205128205,0.11965811965811966]],"text":[["Borough: Bronx<br>Opinion: Highly unsatisfied<br>Count: 103<br>Proportion: 30.6%","Borough: Bronx<br>Opinion: Neutral<br>Count: 47<br>Proportion: 13.9%","Borough: Bronx<br>Opinion: Not satisfied<br>Count: 111<br>Proportion: 32.9%","Borough: Bronx<br>Opinion: Somewhat satisfied<br>Count: 68<br>Proportion: 20.2%","Borough: Bronx<br>Opinion: Very satisfied<br>Count: 8<br>Proportion: 2.4%"],["Borough: Brooklyn<br>Opinion: Highly unsatisfied<br>Count: 565<br>Proportion: 28.3%","Borough: Brooklyn<br>Opinion: Neutral<br>Count: 301<br>Proportion: 15.1%","Borough: Brooklyn<br>Opinion: Not satisfied<br>Count: 762<br>Proportion: 38.1%","Borough: Brooklyn<br>Opinion: Somewhat satisfied<br>Count: 327<br>Proportion: 16.4%","Borough: Brooklyn<br>Opinion: Very satisfied<br>Count: 44<br>Proportion: 2.2%"],["Borough: Long Island<br>Opinion: Highly unsatisfied<br>Count: 2<br>Proportion: 18.2%","Borough: Long Island<br>Opinion: Neutral<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Not satisfied<br>Count: 1<br>Proportion: 9.1%","Borough: Long Island<br>Opinion: Somewhat satisfied<br>Count: 3<br>Proportion: 27.3%","Borough: Long Island<br>Opinion: Very satisfied<br>Count: 2<br>Proportion: 18.2%"],["Borough: Manhattan<br>Opinion: Highly unsatisfied<br>Count: 359<br>Proportion: 19.7%","Borough: Manhattan<br>Opinion: Neutral<br>Count: 293<br>Proportion: 16.1%","Borough: Manhattan<br>Opinion: Not satisfied<br>Count: 640<br>Proportion: 35.2%","Borough: Manhattan<br>Opinion: Somewhat satisfied<br>Count: 456<br>Proportion: 25.1%","Borough: Manhattan<br>Opinion: Very satisfied<br>Count: 72<br>Proportion: 4.0%"],["Borough: New Jersey<br>Opinion: Highly unsatisfied<br>Count: 3<br>Proportion: 7.9%","Borough: New Jersey<br>Opinion: Neutral<br>Count: 6<br>Proportion: 15.8%","Borough: New Jersey<br>Opinion: Not satisfied<br>Count: 13<br>Proportion: 34.2%","Borough: New Jersey<br>Opinion: Somewhat satisfied<br>Count: 12<br>Proportion: 31.6%","Borough: New Jersey<br>Opinion: Very satisfied<br>Count: 4<br>Proportion: 10.5%"],["Borough: New York State<br>Opinion: Highly unsatisfied<br>Count: 7<br>Proportion: 12.1%","Borough: New York State<br>Opinion: Neutral<br>Count: 13<br>Proportion: 22.4%","Borough: New York State<br>Opinion: Not satisfied<br>Count: 25<br>Proportion: 43.1%","Borough: New York State<br>Opinion: Somewhat satisfied<br>Count: 12<br>Proportion: 20.7%","Borough: New York State<br>Opinion: Very satisfied<br>Count: 1<br>Proportion: 1.7%"],["Borough: Outside NY<br>Opinion: Highly unsatisfied<br>Count: 1<br>Proportion: 16.7%","Borough: Outside NY<br>Opinion: Neutral<br>Count: 1<br>Proportion: 16.7%","Borough: Outside NY<br>Opinion: Not satisfied<br>Count: 3<br>Proportion: 50.0%","Borough: Outside NY<br>Opinion: Somewhat satisfied<br>Count: 1<br>Proportion: 16.7%",null],["Borough: Queens<br>Opinion: Highly unsatisfied<br>Count: 298<br>Proportion: 28.9%","Borough: Queens<br>Opinion: Neutral<br>Count: 136<br>Proportion: 13.2%","Borough: Queens<br>Opinion: Not satisfied<br>Count: 402<br>Proportion: 39.0%","Borough: Queens<br>Opinion: Somewhat satisfied<br>Count: 177<br>Proportion: 17.2%","Borough: Queens<br>Opinion: Very satisfied<br>Count: 18<br>Proportion: 1.7%"],["Borough: Staten Island<br>Opinion: Highly unsatisfied<br>Count: 10<br>Proportion: 8.5%","Borough: Staten Island<br>Opinion: Neutral<br>Count: 32<br>Proportion: 27.4%","Borough: Staten Island<br>Opinion: Not satisfied<br>Count: 28<br>Proportion: 23.9%","Borough: Staten Island<br>Opinion: Somewhat satisfied<br>Count: 33<br>Proportion: 28.2%","Borough: Staten Island<br>Opinion: Very satisfied<br>Count: 14<br>Proportion: 12.0%"]],"hoverinfo":"text","type":"heatmap","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
This section summarizes overall rider satisfaction by borough.
Exploratory data analysis highlighted aggregated satisfaction response,
and we wanted to further understand how this differs across geographic
region and visualize patterns. This heat map echoes what was previously
seen with the abundance of dissatisfaction by ridership. Approximately
39% of Queens ridership is not satisfied, similar to 38.1% of Brooklyn
ridership and 35.2% of Manhattan ridership. Given that a large portion
of these riders are commuting to work, these levels of dissatisfaction
are particularly noteworthy. Commuters rely on the subway daily to reach
their jobs efficiently and reliably, so negative experiences can have
tangible impacts on their work performance, stress levels, and overall
perception of the transit system. Performing this at the end of our
borough analysis allowed us to keep the other trends in focus while
interpreting the results of this analysis.
</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
